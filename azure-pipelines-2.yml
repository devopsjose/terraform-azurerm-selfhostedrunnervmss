trigger: none

variables:
  service_connection: DevOpsMI-ServiceConnection

stages:

- stage: TerraformPlan
  displayName: "📝 Terraform Plan"
  jobs:
  - job: Plan
    displayName: "Terraform Init & Plan"
    pool: 
      name: Default  # <-- Your self-hosted agent pool name
    steps:

    - task: AzureCLI@2
      displayName: "Terraform Init & Plan"
      inputs:
        azureSubscription: $(service_connection)
        scriptType: ps
        addSpnToEnvironment: true
        useGlobalConfig: true
        scriptLocation:

 